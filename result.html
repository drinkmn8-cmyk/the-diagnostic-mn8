<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MN8 Diagnostic — Results</title>

  <!-- LATO -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#000;
      --card:#0f0f14;
      --hair:rgba(255,255,255,.08);

      --text:rgba(255,255,255,.90);
      --muted:rgba(255,255,255,.62);

      --accent:#632f96;
      --btn:#6a38a3;

      --radius:34px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      min-height:100vh;
      background:
        radial-gradient(900px 520px at 50% 0%, rgba(99,47,150,.45), rgba(99,47,150,0) 62%),
        radial-gradient(760px 420px at 50% 18%, rgba(99,47,150,.18), rgba(99,47,150,0) 70%),
        var(--bg);
      background-attachment:fixed;
      color:var(--text);
      font-family:"Lato",system-ui,-apple-system,Segoe UI,Roboto,Arial;
      display:flex;
      justify-content:center;
      padding:56px 24px 70px;
    }

    .wrap{
      width:100%;
      max-width:1200px;
    }

    /* Desktop layout (matches your screenshot) */
    .grid{
      display:grid;
      grid-template-columns: 1.55fr 0.78fr; /* left wide, right narrow */
      gap:28px 34px;
      align-items:start;
    }

    .card{
      background:rgba(15,15,20,.92);
      border:1px solid var(--hair);
      border-radius:var(--radius);
      box-shadow:0 34px 160px rgba(0,0,0,.72);
      overflow:hidden;
    }

    .inner{
      padding:28px 30px;
    }

    .title{
      margin:0 0 16px 0;
      font-size:20px;
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:rgba(185,145,235,.82);
    }

    .body{
      margin:0;
      white-space:pre-wrap;
      color:rgba(255,255,255,.86);
    }

    /* ---- Card types (fixes “slim” look) ---- */

    /* HERO: Core */
    .hero{
      border-radius:42px;
    }
    .hero .inner{
      padding:38px 40px 42px;
      min-height:300px;
    }
    .hero .title{
      font-size:30px;
      margin-bottom:22px;
    }
    .hero .body{
      font-size:18px;
      line-height:1.85;
      max-width:58ch;
    }

    /* WIDE: Consequence + Mechanism */
    .wide .inner{
      padding:30px 36px 32px;
      min-height:185px;
    }
    .wide .title{
      font-size:22px;
      margin-bottom:18px;
    }
    .wide .body{
      font-size:15px;
      line-height:1.9;
      max-width:96ch;
      color:rgba(255,255,255,.78);
    }

    /* SIDE: Closing */
    .side{
      max-width:360px;
      justify-self:end;
    }
    .side .inner{
      padding:28px 26px 30px;
      min-height:260px;
    }
    .side .title{
      font-size:20px;
      margin-bottom:18px;
    }
    .side .body{
      font-size:13px;
      line-height:1.9;
      max-width:30ch;
      color:rgba(255,255,255,.72);
    }

    /* Placement */
    .core{ grid-column:1; grid-row:1; }
    .closing{ grid-column:2; grid-row:1; }
    .consequence{ grid-column:1; grid-row:2; }
    .mechanism{ grid-column:1; grid-row:3; }

    /* CTA: right column, under Mechanism, lowered + padded like your reference */
    .cta{
      grid-column:2;
      grid-row:3;
      justify-self:end;
      align-self:end;
      display:flex;
      justify-content:flex-end;
      padding-right:32px;   /* right padding */
      padding-bottom:14px;  /* puts it LOWER */
      margin-top:16px;      /* extra drop if row is tall */
    }

    .btn{
      appearance:none;
      border:0;
      cursor:pointer;
      min-width:340px;
      height:60px;
      border-radius:24px;
      background:rgba(106,56,163,1);
      color:rgba(10,10,14,.92);
      font-size:18px;
      font-weight:800;
      letter-spacing:.02em;
      transition:opacity .12s ease, transform .08s ease;
    }
    .btn:hover{opacity:.92}
    .btn:active{transform:translateY(1px)}

    /* ----- Mobile: no skinny columns, clean stacking, button full-width ----- */
    @media (max-width:980px){
      body{ padding:28px 16px 36px; }

      .grid{
        grid-template-columns:1fr;
        gap:18px;
      }

      .side{
        max-width:none;
        justify-self:stretch;
      }
      .side .body{
        max-width:none;
      }

      .hero{
        border-radius:34px;
      }
      .hero .inner{
        min-height:auto;
        padding:28px 22px 30px;
      }
      .hero .title{
        font-size:24px;
        margin-bottom:16px;
      }
      .hero .body{
        font-size:16px;
        line-height:1.75;
        max-width:none;
      }

      .wide .inner{
        min-height:auto;
        padding:24px 22px 26px;
      }
      .wide .title{
        font-size:20px;
      }

      /* Button becomes its own row after all cards */
      .cta{
        grid-column:1;
        grid-row:auto;
        justify-self:stretch;
        align-self:stretch;
        padding:0;
        margin-top:8px;
      }
      .btn{
        width:100%;
        min-width:0;
        height:56px;
        border-radius:20px;
      }
    }

    /* Optional: very small phones */
    @media (max-width:360px){
      .hero .title{ font-size:22px; }
      .hero .body{ font-size:15px; }
      .btn{ height:54px; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <section class="grid">

      <!-- CORE (HERO) -->
      <div class="card hero core">
        <div class="inner">
          <h2 class="title">Core Diagnosis</h2>
          <p class="body" id="coreText">Your responses point to a clear pattern.
Progress didn’t fade gradually — it stopped after a break.
Since then, starting has felt heavier than it used to.</p>
        </div>
      </div>

      <!-- CLOSING (SIDE) -->
      <div class="card side closing">
        <div class="inner">
          <h2 class="title">Closing Insight</h2>
          <p class="body" id="closingText">This didn’t fail because you lacked discipline.
It failed because nothing was holding execution in place.
Until structure is installed, effort will always feel optional.</p>
        </div>
      </div>

      <!-- CONSEQUENCE (WIDE) -->
      <div class="card wide consequence">
        <div class="inner">
          <h2 class="title">Consequence</h2>
          <p class="body" id="consequenceText">Right now, execution depends on how you feel.
When energy drops or doubt appears, nothing holds the action in place.
Each restart without structure makes the pause come sooner next time.</p>
        </div>
      </div>

      <!-- MECHANISM (WIDE) -->
      <div class="card wide mechanism">
        <div class="inner">
          <h2 class="title">Hidden Mechanism</h2>
          <p class="body" id="mechanismText">When that break happened, your system adapted.
It learned to slow you down before commitment, not during effort.
This isn’t hesitation. It’s protection against another restart that doesn’t last.</p>
        </div>
      </div>

      <!-- CTA (Right column, lower) -->
      <div class="cta">
        <button class="btn" id="continueBtn">Continue</button>
      </div>

    </section>
  </main>

  <script>
    const SUMMARY_KEY = "mn8_summary";   // must match reviewing.html
    const NEXT_PAGE = "index.html";      // change if needed

    function safeParse(raw) {
      try { return JSON.parse(raw); } catch { return null; }
    }

    window.addEventListener("DOMContentLoaded", () => {
      const coreEl = document.getElementById("coreText");
      const mechEl = document.getElementById("mechanismText");
      const consEl = document.getElementById("consequenceText");
      const closeEl = document.getElementById("closingText");

      const raw = localStorage.getItem(SUMMARY_KEY);
      const summary = raw ? safeParse(raw) : null;

      // If API failed, defaults stay (page still looks premium).
      if (summary && typeof summary === "object") {
        if (summary.core) coreEl.textContent = String(summary.core).trim();
        if (summary.mechanism) mechEl.textContent = String(summary.mechanism).trim();
        if (summary.consequence) consEl.textContent = String(summary.consequence).trim();
        if (summary.closing) closeEl.textContent = String(summary.closing).trim();
      }

      document.getElementById("continueBtn").addEventListener("click", () => {
        window.location.href = NEXT_PAGE;
      });
    });
  </script>
</body>
</html>
