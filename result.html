<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MN8 Diagnostic — Results</title>

  <!-- LATO -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#000;
      --card:#0f0f14;
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.62);
      --hair:rgba(255,255,255,.10);

      --accent:#632f96;
      --btn:#6a38a3;

      --radius:28px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      min-height:100vh;
      background:
        radial-gradient(900px 520px at 50% 0%, rgba(99, 47, 150, 0.45), rgba(99, 47, 150, 0) 62%),
        radial-gradient(760px 420px at 50% 18%, rgba(99, 47, 150, 0.18), rgba(99, 47, 150, 0) 70%),
        var(--bg);
      background-repeat:no-repeat;
      background-attachment:fixed;

      color:var(--text);
      font-family:'Lato', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      display:grid;
      place-items:center;
      padding:34px 18px;
    }

    .wrap{
      width:100%;
      max-width:980px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:22px;
      align-items:start;
    }

    .stack{
      display:grid;
      gap:22px;
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--hair);
      border-radius:34px;
      padding:26px 28px;
      box-shadow: 0 30px 110px rgba(0,0,0,.62);
    }

    .header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:16px;
      margin-bottom:18px;
    }

    .powered{
      font-size:12px;
      letter-spacing:.16em;
      text-transform:uppercase;
      color:rgba(185,145,235,.72);
      user-select:none;
      font-weight:500;
    }

    .mn8{
      font-size:20px;
      letter-spacing:.06em;
      color:rgba(185,145,235,.82);
      font-weight:500;
    }

    .label{
      margin:0 0 12px;
      font-size:22px;
      letter-spacing:.04em;
      text-transform:uppercase;
      color:rgba(185,145,235,.82);
      font-weight:600;
    }

    .text{
      margin:0;
      color:rgba(255,255,255,.86);
      line-height:1.7;
      font-size:14px;
      white-space:pre-line; /* keeps line breaks */
    }

    .actions{
      margin-top:26px;
      display:flex;
      justify-content:center;
    }

    .btn{
      appearance:none;
      border:0;
      border-radius:18px;
      padding:14px 26px;
      min-width:260px;
      background:var(--btn);
      color:rgba(10,10,14,.92);
      font-weight:700;
      font-size:18px;
      cursor:pointer;
      transition:opacity .12s ease, transform .08s ease;
      font-family:'Lato', sans-serif;
    }
    .btn:hover{opacity:.92}
    .btn:active{transform:translateY(1px)}

    /* Responsive */
    @media (max-width: 860px){
      .grid{grid-template-columns:1fr}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="header" style="margin-bottom:18px;">
      <div class="powered">POWERED BY <span class="mn8">MN8</span><sup style="font-size:10px; opacity:.65;">®</sup></div>
      <div></div>
    </div>

    <div class="grid">
      <!-- LEFT COLUMN -->
      <div class="stack">
        <section class="card">
          <h2 class="label">CORE DIAGNOSIS</h2>
          <p class="text" id="coreText"></p>
        </section>

        <section class="card">
          <h2 class="label">CONSEQUENCE</h2>
          <p class="text" id="consequenceText"></p>
        </section>

        <section class="card">
          <h2 class="label">HIDDEN MECHANISM</h2>
          <p class="text" id="mechanismText"></p>
        </section>
      </div>

      <!-- RIGHT COLUMN -->
      <div class="stack">
        <section class="card" style="max-width: 420px; justify-self:end;">
          <h2 class="label">CLOSING INSIGHT</h2>
          <p class="text" id="closingText"></p>
        </section>

        <div class="actions" style="justify-content:flex-end;">
          <button class="btn" id="continueBtn">Continue</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Step 6: Read summary from localStorage and fill the boxes
    const summary = JSON.parse(localStorage.getItem("mn8_summary") || "{}");

    // Safe fallback text (so page never looks broken)
    const fallback = {
      core: "No summary loaded.\nRun the diagnostic first.",
      mechanism: "No summary loaded.\nRun the diagnostic first.",
      consequence: "No summary loaded.\nRun the diagnostic first.",
      closing: "No summary loaded.\nRun the diagnostic first."
    };

    const core = summary.core || fallback.core;
    const mechanism = summary.mechanism || fallback.mechanism;
    const consequence = summary.consequence || fallback.consequence;
    const closing = summary.closing || fallback.closing;

    document.getElementById("coreText").textContent = core;
    document.getElementById("mechanismText").textContent = mechanism;
    document.getElementById("consequenceText").textContent = consequence;
    document.getElementById("closingText").textContent = closing;

    // Continue button (change this destination)
    document.getElementById("continueBtn").addEventListener("click", () => {
      window.location.href = "gate.html"; // change if needed
    });
  </script>
</body>
</html>
