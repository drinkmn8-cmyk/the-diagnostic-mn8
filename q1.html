<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Diagnostic — Q1</title>
    <link rel="stylesheet" href="assets/style.css?v=3" />
  </head>

  <body>
    <main class="wrap">
      <section class="card form-card">

        <form class="form" id="q1Form">

          <p class="q-title">
            Compared to when you were disciplined, what has changed the most for you?
          </p>

          <label class="opt">
            <input class="radio" type="checkbox" name="q1" value="consistency" />
            <span>I no longer have the same consistency, even when I know what to do.</span>
          </label>

          <label class="opt">
            <input class="radio" type="checkbox" name="q1" value="confidence" />
            <span>I’ve lost the confidence that I’ll actually stick to it.</span>
          </label>

          <label class="opt">
            <input class="radio" type="checkbox" name="q1" value="mental_cost" />
            <span>Moving forward costs me more mentally than it used to.</span>
          </label>

          <label class="opt">
            <input class="radio" type="checkbox" name="q1" value="identity" />
            <span>I don’t fully recognize myself as the person I used to be.</span>
          </label>

          <label class="opt">
            <input class="radio" type="checkbox" name="q1" value="other" />
            <span>Other</span>
          </label>

          <div class="actions row" style="justify-content: space-between; margin-top: 28px;">
            <button type="button" class="ghost" onclick="history.back()">Back</button>
            <button type="submit" class="btn">Continue</button>
          </div>

        </form>

      </section>
    </main>

    <script>
      document.getElementById("q1Form").addEventListener("submit", (e) => {
        e.preventDefault();

        const values = [...document.querySelectorAll('input[name="q1"]:checked')]
          .map(i => i.value);

        if (!values.length) return;

        localStorage.setItem("mn8_q1", JSON.stringify(values));
        window.location.href = "q2.html";
      });
    </script>
  </body>
</html>
